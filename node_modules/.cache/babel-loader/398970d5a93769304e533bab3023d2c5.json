{"ast":null,"code":"import React$1, { useContext, useMemo, useEffect } from 'react';\nimport { objectWithoutProperties as _objectWithoutProperties, objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport DefaultThemeColors$1 from '@shopify/polaris-tokens/dist-modern/theme/base.json';\nimport { ThemeContext } from '../../utilities/theme/context.js';\nimport { buildCustomProperties, buildThemeContext, toString } from '../../utilities/theme/utils.js';\nimport { Tokens } from '../../utilities/theme/tokens.js';\n\nfunction ThemeProvider(_ref) {\n  let {\n    theme: themeConfig = {},\n    alwaysRenderCustomProperties = false,\n    children\n  } = _ref;\n  const parentContext = useContext(ThemeContext);\n  const isParentThemeProvider = parentContext === undefined;\n  const parentColorScheme = parentContext && parentContext.colorScheme && parentContext.colorScheme;\n  const parentColors = parentContext && parentContext.colors && parentContext.colors;\n  const [customProperties, theme] = useMemo(() => {\n    const {\n      colors,\n      colorScheme\n    } = themeConfig,\n          rest = _objectWithoutProperties(themeConfig, [\"colors\", \"colorScheme\"]);\n\n    const processedThemeConfig = _objectSpread2(_objectSpread2(_objectSpread2({}, rest), {\n      colorScheme: getColorScheme(colorScheme, parentColorScheme)\n    }), {}, {\n      colors: _objectSpread2(_objectSpread2(_objectSpread2({}, isParentThemeProvider && DefaultThemeColors$1), parentColors != null && parentColors), colors)\n    });\n\n    const customProperties = buildCustomProperties(processedThemeConfig, Tokens);\n    const theme = buildThemeContext(processedThemeConfig, customProperties);\n    return [customProperties, theme];\n  }, [isParentThemeProvider, parentColorScheme, parentColors, themeConfig]); // We want these values to be empty string instead of `undefined` when not set.\n  // Otherwise, setting a style property to `undefined` does not remove it from the DOM.\n\n  const backgroundColor = customProperties['--p-background'] || '';\n  const color = customProperties['--p-text'] || '';\n  useEffect(() => {\n    if (isParentThemeProvider) {\n      document.body.style.backgroundColor = backgroundColor;\n      document.body.style.color = color;\n    }\n  }, [backgroundColor, color, isParentThemeProvider]);\n  let style;\n\n  if (isParentThemeProvider) {\n    style = customProperties;\n  } else if (alwaysRenderCustomProperties || !isParentThemeProvider && parentContext.cssCustomProperties !== toString(customProperties)) {\n    style = _objectSpread2(_objectSpread2({}, customProperties), {\n      color\n    });\n  } else {\n    style = {\n      color\n    };\n  }\n\n  return /*#__PURE__*/React$1.createElement(ThemeContext.Provider, {\n    value: theme\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    style: style\n  }, children));\n}\n\nfunction getColorScheme(colorScheme, parentColorScheme) {\n  if (colorScheme == null) {\n    return parentColorScheme || 'light';\n  } else if (colorScheme === 'inverse') {\n    return parentColorScheme === 'dark' || parentColorScheme === undefined ? 'light' : 'dark';\n  } else {\n    return colorScheme;\n  }\n}\n\nexport { ThemeProvider };","map":{"version":3,"sources":["/Users/yewonkwak/Documents/GitHub/spacestagram/node_modules/@shopify/polaris/dist/esm/components/ThemeProvider/ThemeProvider.js"],"names":["React$1","useContext","useMemo","useEffect","objectWithoutProperties","_objectWithoutProperties","objectSpread2","_objectSpread2","DefaultThemeColors$1","ThemeContext","buildCustomProperties","buildThemeContext","toString","Tokens","ThemeProvider","theme","themeConfig","alwaysRenderCustomProperties","children","parentContext","isParentThemeProvider","undefined","parentColorScheme","colorScheme","parentColors","colors","customProperties","rest","processedThemeConfig","getColorScheme","backgroundColor","color","document","body","style","cssCustomProperties","createElement","Provider","value"],"mappings":"AAAA,OAAOA,OAAP,IAAkBC,UAAlB,EAA8BC,OAA9B,EAAuCC,SAAvC,QAAwD,OAAxD;AACA,SAASC,uBAAuB,IAAIC,wBAApC,EAA8DC,aAAa,IAAIC,cAA/E,QAAqG,6CAArG;AACA,OAAOC,oBAAP,MAAiC,qDAAjC;AACA,SAASC,YAAT,QAA6B,kCAA7B;AACA,SAASC,qBAAT,EAAgCC,iBAAhC,EAAmDC,QAAnD,QAAmE,gCAAnE;AACA,SAASC,MAAT,QAAuB,iCAAvB;;AAEA,SAASC,aAAT,OAIG;AAAA,MAJoB;AACrBC,IAAAA,KAAK,EAAEC,WAAW,GAAG,EADA;AAErBC,IAAAA,4BAA4B,GAAG,KAFV;AAGrBC,IAAAA;AAHqB,GAIpB;AACD,QAAMC,aAAa,GAAGlB,UAAU,CAACQ,YAAD,CAAhC;AACA,QAAMW,qBAAqB,GAAGD,aAAa,KAAKE,SAAhD;AACA,QAAMC,iBAAiB,GAAGH,aAAa,IAAIA,aAAa,CAACI,WAA/B,IAA8CJ,aAAa,CAACI,WAAtF;AACA,QAAMC,YAAY,GAAGL,aAAa,IAAIA,aAAa,CAACM,MAA/B,IAAyCN,aAAa,CAACM,MAA5E;AACA,QAAM,CAACC,gBAAD,EAAmBX,KAAnB,IAA4Bb,OAAO,CAAC,MAAM;AAC9C,UAAM;AACJuB,MAAAA,MADI;AAEJF,MAAAA;AAFI,QAGFP,WAHJ;AAAA,UAIMW,IAAI,GAAGtB,wBAAwB,CAACW,WAAD,EAAc,CAAC,QAAD,EAAW,aAAX,CAAd,CAJrC;;AAMA,UAAMY,oBAAoB,GAAGrB,cAAc,CAACA,cAAc,CAACA,cAAc,CAAC,EAAD,EAAKoB,IAAL,CAAf,EAA2B;AACnFJ,MAAAA,WAAW,EAAEM,cAAc,CAACN,WAAD,EAAcD,iBAAd;AADwD,KAA3B,CAAf,EAEvC,EAFuC,EAEnC;AACNG,MAAAA,MAAM,EAAElB,cAAc,CAACA,cAAc,CAACA,cAAc,CAAC,EAAD,EAAKa,qBAAqB,IAAIZ,oBAA9B,CAAf,EAAoEgB,YAAY,IAAI,IAAhB,IAAwBA,YAA5F,CAAf,EAA0HC,MAA1H;AADhB,KAFmC,CAA3C;;AAMA,UAAMC,gBAAgB,GAAGhB,qBAAqB,CAACkB,oBAAD,EAAuBf,MAAvB,CAA9C;AACA,UAAME,KAAK,GAAGJ,iBAAiB,CAACiB,oBAAD,EAAuBF,gBAAvB,CAA/B;AACA,WAAO,CAACA,gBAAD,EAAmBX,KAAnB,CAAP;AACD,GAhBwC,EAgBtC,CAACK,qBAAD,EAAwBE,iBAAxB,EAA2CE,YAA3C,EAAyDR,WAAzD,CAhBsC,CAAzC,CALC,CAqB0E;AAC3E;;AAEA,QAAMc,eAAe,GAAGJ,gBAAgB,CAAC,gBAAD,CAAhB,IAAsC,EAA9D;AACA,QAAMK,KAAK,GAAGL,gBAAgB,CAAC,UAAD,CAAhB,IAAgC,EAA9C;AACAvB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIiB,qBAAJ,EAA2B;AACzBY,MAAAA,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBJ,eAApB,GAAsCA,eAAtC;AACAE,MAAAA,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBH,KAApB,GAA4BA,KAA5B;AACD;AACF,GALQ,EAKN,CAACD,eAAD,EAAkBC,KAAlB,EAAyBX,qBAAzB,CALM,CAAT;AAMA,MAAIc,KAAJ;;AAEA,MAAId,qBAAJ,EAA2B;AACzBc,IAAAA,KAAK,GAAGR,gBAAR;AACD,GAFD,MAEO,IAAIT,4BAA4B,IAAI,CAACG,qBAAD,IAA0BD,aAAa,CAACgB,mBAAd,KAAsCvB,QAAQ,CAACc,gBAAD,CAA5G,EAAgI;AACrIQ,IAAAA,KAAK,GAAG3B,cAAc,CAACA,cAAc,CAAC,EAAD,EAAKmB,gBAAL,CAAf,EAAuC;AAC3DK,MAAAA;AAD2D,KAAvC,CAAtB;AAGD,GAJM,MAIA;AACLG,IAAAA,KAAK,GAAG;AACNH,MAAAA;AADM,KAAR;AAGD;;AAED,SAAO,aAAa/B,OAAO,CAACoC,aAAR,CAAsB3B,YAAY,CAAC4B,QAAnC,EAA6C;AAC/DC,IAAAA,KAAK,EAAEvB;AADwD,GAA7C,EAEjB,aAAaf,OAAO,CAACoC,aAAR,CAAsB,KAAtB,EAA6B;AAC3CF,IAAAA,KAAK,EAAEA;AADoC,GAA7B,EAEbhB,QAFa,CAFI,CAApB;AAKD;;AAED,SAASW,cAAT,CAAwBN,WAAxB,EAAqCD,iBAArC,EAAwD;AACtD,MAAIC,WAAW,IAAI,IAAnB,EAAyB;AACvB,WAAOD,iBAAiB,IAAI,OAA5B;AACD,GAFD,MAEO,IAAIC,WAAW,KAAK,SAApB,EAA+B;AACpC,WAAOD,iBAAiB,KAAK,MAAtB,IAAgCA,iBAAiB,KAAKD,SAAtD,GAAkE,OAAlE,GAA4E,MAAnF;AACD,GAFM,MAEA;AACL,WAAOE,WAAP;AACD;AACF;;AAED,SAAST,aAAT","sourcesContent":["import React$1, { useContext, useMemo, useEffect } from 'react';\nimport { objectWithoutProperties as _objectWithoutProperties, objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport DefaultThemeColors$1 from '@shopify/polaris-tokens/dist-modern/theme/base.json';\nimport { ThemeContext } from '../../utilities/theme/context.js';\nimport { buildCustomProperties, buildThemeContext, toString } from '../../utilities/theme/utils.js';\nimport { Tokens } from '../../utilities/theme/tokens.js';\n\nfunction ThemeProvider({\n  theme: themeConfig = {},\n  alwaysRenderCustomProperties = false,\n  children\n}) {\n  const parentContext = useContext(ThemeContext);\n  const isParentThemeProvider = parentContext === undefined;\n  const parentColorScheme = parentContext && parentContext.colorScheme && parentContext.colorScheme;\n  const parentColors = parentContext && parentContext.colors && parentContext.colors;\n  const [customProperties, theme] = useMemo(() => {\n    const {\n      colors,\n      colorScheme\n    } = themeConfig,\n          rest = _objectWithoutProperties(themeConfig, [\"colors\", \"colorScheme\"]);\n\n    const processedThemeConfig = _objectSpread2(_objectSpread2(_objectSpread2({}, rest), {\n      colorScheme: getColorScheme(colorScheme, parentColorScheme)\n    }), {}, {\n      colors: _objectSpread2(_objectSpread2(_objectSpread2({}, isParentThemeProvider && DefaultThemeColors$1), parentColors != null && parentColors), colors)\n    });\n\n    const customProperties = buildCustomProperties(processedThemeConfig, Tokens);\n    const theme = buildThemeContext(processedThemeConfig, customProperties);\n    return [customProperties, theme];\n  }, [isParentThemeProvider, parentColorScheme, parentColors, themeConfig]); // We want these values to be empty string instead of `undefined` when not set.\n  // Otherwise, setting a style property to `undefined` does not remove it from the DOM.\n\n  const backgroundColor = customProperties['--p-background'] || '';\n  const color = customProperties['--p-text'] || '';\n  useEffect(() => {\n    if (isParentThemeProvider) {\n      document.body.style.backgroundColor = backgroundColor;\n      document.body.style.color = color;\n    }\n  }, [backgroundColor, color, isParentThemeProvider]);\n  let style;\n\n  if (isParentThemeProvider) {\n    style = customProperties;\n  } else if (alwaysRenderCustomProperties || !isParentThemeProvider && parentContext.cssCustomProperties !== toString(customProperties)) {\n    style = _objectSpread2(_objectSpread2({}, customProperties), {\n      color\n    });\n  } else {\n    style = {\n      color\n    };\n  }\n\n  return /*#__PURE__*/React$1.createElement(ThemeContext.Provider, {\n    value: theme\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    style: style\n  }, children));\n}\n\nfunction getColorScheme(colorScheme, parentColorScheme) {\n  if (colorScheme == null) {\n    return parentColorScheme || 'light';\n  } else if (colorScheme === 'inverse') {\n    return parentColorScheme === 'dark' || parentColorScheme === undefined ? 'light' : 'dark';\n  } else {\n    return colorScheme;\n  }\n}\n\nexport { ThemeProvider };\n"]},"metadata":{},"sourceType":"module"}