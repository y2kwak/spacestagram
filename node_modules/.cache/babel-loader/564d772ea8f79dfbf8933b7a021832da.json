{"ast":null,"code":"import React$1, { Component } from 'react';\nimport { objectWithoutProperties as _objectWithoutProperties } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport debounce$1 from 'lodash/debounce';\nimport { StickyManagerContext } from '../../utilities/sticky-manager/context.js';\nimport { scrollable } from '../shared.js';\nimport { StickyManager } from '../../utilities/sticky-manager/sticky-manager.js';\nimport { classNames } from '../../utilities/css.js';\nimport { ScrollableContext } from './context.js';\nimport { ScrollTo as ScrollTo$1 } from './components/ScrollTo/ScrollTo.js';\nimport styles from './Scrollable.scss.js';\nconst MAX_SCROLL_DISTANCE = 100;\nconst DELTA_THRESHOLD = 0.2;\nconst DELTA_PERCENTAGE = 0.2;\nconst EVENTS_TO_LOCK = ['scroll', 'touchmove', 'wheel'];\nconst PREFERS_REDUCED_MOTION = prefersReducedMotion();\nconst LOW_RES_BUFFER = 2;\n\nclass Scrollable extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      topShadow: false,\n      bottomShadow: false,\n      scrollPosition: 0,\n      canScroll: false\n    };\n    this.stickyManager = new StickyManager();\n    this.scrollArea = null;\n    this.handleResize = debounce$1(() => {\n      this.handleScroll();\n    }, 50, {\n      trailing: true\n    });\n\n    this.setScrollArea = scrollArea => {\n      this.scrollArea = scrollArea;\n    };\n\n    this.handleScroll = () => {\n      const {\n        scrollArea\n      } = this;\n      const {\n        shadow,\n        onScrolledToBottom\n      } = this.props;\n\n      if (scrollArea == null) {\n        return;\n      }\n\n      const {\n        scrollTop,\n        clientHeight,\n        scrollHeight\n      } = scrollArea;\n      const shouldBottomShadow = Boolean(shadow && !(scrollTop + clientHeight >= scrollHeight));\n      const shouldTopShadow = Boolean(shadow && scrollTop > 0);\n      const canScroll = scrollHeight > clientHeight;\n      const hasScrolledToBottom = scrollHeight - scrollTop <= clientHeight + LOW_RES_BUFFER;\n\n      if (canScroll && hasScrolledToBottom && onScrolledToBottom) {\n        onScrolledToBottom();\n      }\n\n      this.setState({\n        topShadow: shouldTopShadow,\n        bottomShadow: shouldBottomShadow,\n        scrollPosition: scrollTop,\n        canScroll\n      });\n    };\n\n    this.scrollHint = () => {\n      const {\n        scrollArea\n      } = this;\n\n      if (scrollArea == null) {\n        return;\n      }\n\n      const {\n        clientHeight,\n        scrollHeight\n      } = scrollArea;\n\n      if (PREFERS_REDUCED_MOTION || this.state.scrollPosition > 0 || scrollHeight <= clientHeight) {\n        return;\n      }\n\n      const scrollDistance = scrollHeight - clientHeight;\n      this.toggleLock();\n      this.setState({\n        scrollPosition: scrollDistance > MAX_SCROLL_DISTANCE ? MAX_SCROLL_DISTANCE : scrollDistance\n      }, () => {\n        window.requestAnimationFrame(this.scrollStep);\n      });\n    };\n\n    this.scrollStep = () => {\n      this.setState(_ref => {\n        let {\n          scrollPosition\n        } = _ref;\n        const delta = scrollPosition * DELTA_PERCENTAGE;\n        return {\n          scrollPosition: delta < DELTA_THRESHOLD ? 0 : scrollPosition - delta\n        };\n      }, () => {\n        if (this.state.scrollPosition > 0) {\n          window.requestAnimationFrame(this.scrollStep);\n        } else {\n          this.toggleLock(false);\n        }\n      });\n    };\n\n    this.scrollToPosition = scrollY => {\n      this.setState({\n        scrollPosition: scrollY\n      });\n    };\n  }\n\n  static forNode(node) {\n    const closestElement = node.closest(scrollable.selector);\n    return closestElement instanceof HTMLElement ? closestElement : document;\n  }\n\n  componentDidMount() {\n    if (this.scrollArea == null) {\n      return;\n    }\n\n    this.stickyManager.setContainer(this.scrollArea);\n    this.scrollArea.addEventListener('scroll', () => {\n      window.requestAnimationFrame(this.handleScroll);\n    });\n    window.addEventListener('resize', this.handleResize);\n    window.requestAnimationFrame(() => {\n      this.handleScroll();\n\n      if (this.props.hint) {\n        this.scrollHint();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.scrollArea == null) {\n      return;\n    }\n\n    this.scrollArea.removeEventListener('scroll', this.handleScroll);\n    window.removeEventListener('resize', this.handleResize);\n    this.stickyManager.removeScrollListener();\n  }\n\n  componentDidUpdate() {\n    const {\n      scrollPosition\n    } = this.state;\n\n    if (scrollPosition && this.scrollArea && scrollPosition > 0) {\n      this.scrollArea.scrollTop = scrollPosition;\n    }\n  }\n\n  render() {\n    const {\n      topShadow,\n      bottomShadow,\n      canScroll\n    } = this.state;\n\n    const _this$props = this.props,\n          {\n      children,\n      className,\n      horizontal,\n      vertical = true,\n      shadow,\n      hint,\n      focusable,\n      onScrolledToBottom\n    } = _this$props,\n          rest = _objectWithoutProperties(_this$props, [\"children\", \"className\", \"horizontal\", \"vertical\", \"shadow\", \"hint\", \"focusable\", \"onScrolledToBottom\"]);\n\n    const finalClassName = classNames(className, styles.Scrollable, vertical && styles.vertical, horizontal && styles.horizontal, topShadow && styles.hasTopShadow, bottomShadow && styles.hasBottomShadow, vertical && canScroll && styles.verticalHasScrolling);\n    return /*#__PURE__*/React$1.createElement(ScrollableContext.Provider, {\n      value: this.scrollToPosition\n    }, /*#__PURE__*/React$1.createElement(StickyManagerContext.Provider, {\n      value: this.stickyManager\n    }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n      className: finalClassName\n    }, scrollable.props, rest, {\n      ref: this.setScrollArea // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n      ,\n      tabIndex: focusable ? 0 : undefined\n    }), children)));\n  }\n\n  toggleLock() {\n    let shouldLock = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    const {\n      scrollArea\n    } = this;\n\n    if (scrollArea == null) {\n      return;\n    }\n\n    EVENTS_TO_LOCK.forEach(eventName => {\n      if (shouldLock) {\n        scrollArea.addEventListener(eventName, prevent);\n      } else {\n        scrollArea.removeEventListener(eventName, prevent);\n      }\n    });\n  }\n\n}\n\nScrollable.ScrollTo = ScrollTo$1;\n\nfunction prevent(evt) {\n  evt.preventDefault();\n}\n\nfunction prefersReducedMotion() {\n  try {\n    return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n  } catch (err) {\n    return false;\n  }\n}\n\nexport { Scrollable };","map":{"version":3,"sources":["/Users/yewonkwak/Documents/GitHub/spacestagram/node_modules/@shopify/polaris/dist/esm/components/Scrollable/Scrollable.js"],"names":["React$1","Component","objectWithoutProperties","_objectWithoutProperties","debounce$1","StickyManagerContext","scrollable","StickyManager","classNames","ScrollableContext","ScrollTo","ScrollTo$1","styles","MAX_SCROLL_DISTANCE","DELTA_THRESHOLD","DELTA_PERCENTAGE","EVENTS_TO_LOCK","PREFERS_REDUCED_MOTION","prefersReducedMotion","LOW_RES_BUFFER","Scrollable","constructor","state","topShadow","bottomShadow","scrollPosition","canScroll","stickyManager","scrollArea","handleResize","handleScroll","trailing","setScrollArea","shadow","onScrolledToBottom","props","scrollTop","clientHeight","scrollHeight","shouldBottomShadow","Boolean","shouldTopShadow","hasScrolledToBottom","setState","scrollHint","scrollDistance","toggleLock","window","requestAnimationFrame","scrollStep","delta","scrollToPosition","scrollY","forNode","node","closestElement","closest","selector","HTMLElement","document","componentDidMount","setContainer","addEventListener","hint","componentWillUnmount","removeEventListener","removeScrollListener","componentDidUpdate","render","_this$props","children","className","horizontal","vertical","focusable","rest","finalClassName","hasTopShadow","hasBottomShadow","verticalHasScrolling","createElement","Provider","value","Object","assign","ref","tabIndex","undefined","shouldLock","forEach","eventName","prevent","evt","preventDefault","matchMedia","matches","err"],"mappings":"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","sourcesContent":["import React$1, { Component } from 'react';\nimport { objectWithoutProperties as _objectWithoutProperties } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport debounce$1 from 'lodash/debounce';\nimport { StickyManagerContext } from '../../utilities/sticky-manager/context.js';\nimport { scrollable } from '../shared.js';\nimport { StickyManager } from '../../utilities/sticky-manager/sticky-manager.js';\nimport { classNames } from '../../utilities/css.js';\nimport { ScrollableContext } from './context.js';\nimport { ScrollTo as ScrollTo$1 } from './components/ScrollTo/ScrollTo.js';\nimport styles from './Scrollable.scss.js';\n\nconst MAX_SCROLL_DISTANCE = 100;\nconst DELTA_THRESHOLD = 0.2;\nconst DELTA_PERCENTAGE = 0.2;\nconst EVENTS_TO_LOCK = ['scroll', 'touchmove', 'wheel'];\nconst PREFERS_REDUCED_MOTION = prefersReducedMotion();\nconst LOW_RES_BUFFER = 2;\nclass Scrollable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      topShadow: false,\n      bottomShadow: false,\n      scrollPosition: 0,\n      canScroll: false\n    };\n    this.stickyManager = new StickyManager();\n    this.scrollArea = null;\n    this.handleResize = debounce$1(() => {\n      this.handleScroll();\n    }, 50, {\n      trailing: true\n    });\n\n    this.setScrollArea = scrollArea => {\n      this.scrollArea = scrollArea;\n    };\n\n    this.handleScroll = () => {\n      const {\n        scrollArea\n      } = this;\n      const {\n        shadow,\n        onScrolledToBottom\n      } = this.props;\n\n      if (scrollArea == null) {\n        return;\n      }\n\n      const {\n        scrollTop,\n        clientHeight,\n        scrollHeight\n      } = scrollArea;\n      const shouldBottomShadow = Boolean(shadow && !(scrollTop + clientHeight >= scrollHeight));\n      const shouldTopShadow = Boolean(shadow && scrollTop > 0);\n      const canScroll = scrollHeight > clientHeight;\n      const hasScrolledToBottom = scrollHeight - scrollTop <= clientHeight + LOW_RES_BUFFER;\n\n      if (canScroll && hasScrolledToBottom && onScrolledToBottom) {\n        onScrolledToBottom();\n      }\n\n      this.setState({\n        topShadow: shouldTopShadow,\n        bottomShadow: shouldBottomShadow,\n        scrollPosition: scrollTop,\n        canScroll\n      });\n    };\n\n    this.scrollHint = () => {\n      const {\n        scrollArea\n      } = this;\n\n      if (scrollArea == null) {\n        return;\n      }\n\n      const {\n        clientHeight,\n        scrollHeight\n      } = scrollArea;\n\n      if (PREFERS_REDUCED_MOTION || this.state.scrollPosition > 0 || scrollHeight <= clientHeight) {\n        return;\n      }\n\n      const scrollDistance = scrollHeight - clientHeight;\n      this.toggleLock();\n      this.setState({\n        scrollPosition: scrollDistance > MAX_SCROLL_DISTANCE ? MAX_SCROLL_DISTANCE : scrollDistance\n      }, () => {\n        window.requestAnimationFrame(this.scrollStep);\n      });\n    };\n\n    this.scrollStep = () => {\n      this.setState(({\n        scrollPosition\n      }) => {\n        const delta = scrollPosition * DELTA_PERCENTAGE;\n        return {\n          scrollPosition: delta < DELTA_THRESHOLD ? 0 : scrollPosition - delta\n        };\n      }, () => {\n        if (this.state.scrollPosition > 0) {\n          window.requestAnimationFrame(this.scrollStep);\n        } else {\n          this.toggleLock(false);\n        }\n      });\n    };\n\n    this.scrollToPosition = scrollY => {\n      this.setState({\n        scrollPosition: scrollY\n      });\n    };\n  }\n\n  static forNode(node) {\n    const closestElement = node.closest(scrollable.selector);\n    return closestElement instanceof HTMLElement ? closestElement : document;\n  }\n\n  componentDidMount() {\n    if (this.scrollArea == null) {\n      return;\n    }\n\n    this.stickyManager.setContainer(this.scrollArea);\n    this.scrollArea.addEventListener('scroll', () => {\n      window.requestAnimationFrame(this.handleScroll);\n    });\n    window.addEventListener('resize', this.handleResize);\n    window.requestAnimationFrame(() => {\n      this.handleScroll();\n\n      if (this.props.hint) {\n        this.scrollHint();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.scrollArea == null) {\n      return;\n    }\n\n    this.scrollArea.removeEventListener('scroll', this.handleScroll);\n    window.removeEventListener('resize', this.handleResize);\n    this.stickyManager.removeScrollListener();\n  }\n\n  componentDidUpdate() {\n    const {\n      scrollPosition\n    } = this.state;\n\n    if (scrollPosition && this.scrollArea && scrollPosition > 0) {\n      this.scrollArea.scrollTop = scrollPosition;\n    }\n  }\n\n  render() {\n    const {\n      topShadow,\n      bottomShadow,\n      canScroll\n    } = this.state;\n\n    const _this$props = this.props,\n          {\n      children,\n      className,\n      horizontal,\n      vertical = true,\n      shadow,\n      hint,\n      focusable,\n      onScrolledToBottom\n    } = _this$props,\n          rest = _objectWithoutProperties(_this$props, [\"children\", \"className\", \"horizontal\", \"vertical\", \"shadow\", \"hint\", \"focusable\", \"onScrolledToBottom\"]);\n\n    const finalClassName = classNames(className, styles.Scrollable, vertical && styles.vertical, horizontal && styles.horizontal, topShadow && styles.hasTopShadow, bottomShadow && styles.hasBottomShadow, vertical && canScroll && styles.verticalHasScrolling);\n    return /*#__PURE__*/React$1.createElement(ScrollableContext.Provider, {\n      value: this.scrollToPosition\n    }, /*#__PURE__*/React$1.createElement(StickyManagerContext.Provider, {\n      value: this.stickyManager\n    }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n      className: finalClassName\n    }, scrollable.props, rest, {\n      ref: this.setScrollArea // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n      ,\n      tabIndex: focusable ? 0 : undefined\n    }), children)));\n  }\n\n  toggleLock(shouldLock = true) {\n    const {\n      scrollArea\n    } = this;\n\n    if (scrollArea == null) {\n      return;\n    }\n\n    EVENTS_TO_LOCK.forEach(eventName => {\n      if (shouldLock) {\n        scrollArea.addEventListener(eventName, prevent);\n      } else {\n        scrollArea.removeEventListener(eventName, prevent);\n      }\n    });\n  }\n\n}\nScrollable.ScrollTo = ScrollTo$1;\n\nfunction prevent(evt) {\n  evt.preventDefault();\n}\n\nfunction prefersReducedMotion() {\n  try {\n    return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n  } catch (err) {\n    return false;\n  }\n}\n\nexport { Scrollable };\n"]},"metadata":{},"sourceType":"module"}