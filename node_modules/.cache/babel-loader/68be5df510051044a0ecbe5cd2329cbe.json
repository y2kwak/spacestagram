{"ast":null,"code":"import React$1, { memo, createRef } from 'react';\nimport { EventListener as EventListener$1 } from '../../../EventListener/EventListener.js';\nimport { classNames } from '../../../../utilities/css.js';\nimport { Portal as Portal$1 } from '../../../Portal/Portal.js';\nimport { useDeepEffect as useDeepEffect$1 } from '../../../../utilities/use-deep-effect.js';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { Toast as Toast$1 } from '../Toast/Toast.js';\nimport { useDeepCallback as useDeepCallback$1 } from '../../../../utilities/use-deep-callback.js';\nimport styles from './ToastManager.scss.js';\nconst ToastManager = /*#__PURE__*/memo(function ToastManager(_ref) {\n  let {\n    toastMessages\n  } = _ref;\n  const toastNodes = [];\n  const updateToasts = useDeepCallback$1(() => {\n    let targetInPos = 0;\n    toastMessages.forEach((_, index) => {\n      const currentToast = toastNodes[index];\n      if (!currentToast.current) return;\n      targetInPos += currentToast.current.clientHeight;\n      currentToast.current.style.setProperty('--toast-translate-y-in', `-${targetInPos}px`);\n      currentToast.current.style.setProperty('--toast-translate-y-out', `${-targetInPos + 150}px`);\n    });\n  }, [toastMessages, toastNodes]);\n  useDeepEffect$1(() => {\n    updateToasts();\n  }, [toastMessages]);\n  const toastsMarkup = toastMessages.map((toast, index) => {\n    const toastNode = /*#__PURE__*/createRef();\n    toastNodes[index] = toastNode;\n    return /*#__PURE__*/React$1.createElement(CSSTransition, {\n      nodeRef: toastNodes[index],\n      key: toast.id,\n      timeout: {\n        enter: 0,\n        exit: 400\n      },\n      classNames: toastClasses\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: toastNode\n    }, /*#__PURE__*/React$1.createElement(Toast$1, toast)));\n  });\n  return /*#__PURE__*/React$1.createElement(Portal$1, null, /*#__PURE__*/React$1.createElement(EventListener$1, {\n    event: \"resize\",\n    handler: updateToasts\n  }), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ToastManager,\n    \"aria-live\": \"assertive\"\n  }, /*#__PURE__*/React$1.createElement(TransitionGroup, {\n    component: null\n  }, toastsMarkup)));\n});\nconst toastClasses = {\n  enter: classNames(styles.ToastWrapper, styles['ToastWrapper-enter']),\n  enterDone: classNames(styles.ToastWrapper, styles['ToastWrapper-enter-done']),\n  exit: classNames(styles.ToastWrapper, styles['ToastWrapper-exit'])\n};\nexport { ToastManager };","map":{"version":3,"sources":["/Users/yewonkwak/Documents/GitHub/spacestagram/node_modules/@shopify/polaris/dist/esm/components/Frame/components/ToastManager/ToastManager.js"],"names":["React$1","memo","createRef","EventListener","EventListener$1","classNames","Portal","Portal$1","useDeepEffect","useDeepEffect$1","CSSTransition","TransitionGroup","Toast","Toast$1","useDeepCallback","useDeepCallback$1","styles","ToastManager","toastMessages","toastNodes","updateToasts","targetInPos","forEach","_","index","currentToast","current","clientHeight","style","setProperty","toastsMarkup","map","toast","toastNode","createElement","nodeRef","key","id","timeout","enter","exit","toastClasses","ref","event","handler","className","component","ToastWrapper","enterDone"],"mappings":"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","sourcesContent":["import React$1, { memo, createRef } from 'react';\nimport { EventListener as EventListener$1 } from '../../../EventListener/EventListener.js';\nimport { classNames } from '../../../../utilities/css.js';\nimport { Portal as Portal$1 } from '../../../Portal/Portal.js';\nimport { useDeepEffect as useDeepEffect$1 } from '../../../../utilities/use-deep-effect.js';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { Toast as Toast$1 } from '../Toast/Toast.js';\nimport { useDeepCallback as useDeepCallback$1 } from '../../../../utilities/use-deep-callback.js';\nimport styles from './ToastManager.scss.js';\n\nconst ToastManager = /*#__PURE__*/memo(function ToastManager({\n  toastMessages\n}) {\n  const toastNodes = [];\n  const updateToasts = useDeepCallback$1(() => {\n    let targetInPos = 0;\n    toastMessages.forEach((_, index) => {\n      const currentToast = toastNodes[index];\n      if (!currentToast.current) return;\n      targetInPos += currentToast.current.clientHeight;\n      currentToast.current.style.setProperty('--toast-translate-y-in', `-${targetInPos}px`);\n      currentToast.current.style.setProperty('--toast-translate-y-out', `${-targetInPos + 150}px`);\n    });\n  }, [toastMessages, toastNodes]);\n  useDeepEffect$1(() => {\n    updateToasts();\n  }, [toastMessages]);\n  const toastsMarkup = toastMessages.map((toast, index) => {\n    const toastNode = /*#__PURE__*/createRef();\n    toastNodes[index] = toastNode;\n    return /*#__PURE__*/React$1.createElement(CSSTransition, {\n      nodeRef: toastNodes[index],\n      key: toast.id,\n      timeout: {\n        enter: 0,\n        exit: 400\n      },\n      classNames: toastClasses\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: toastNode\n    }, /*#__PURE__*/React$1.createElement(Toast$1, toast)));\n  });\n  return /*#__PURE__*/React$1.createElement(Portal$1, null, /*#__PURE__*/React$1.createElement(EventListener$1, {\n    event: \"resize\",\n    handler: updateToasts\n  }), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ToastManager,\n    \"aria-live\": \"assertive\"\n  }, /*#__PURE__*/React$1.createElement(TransitionGroup, {\n    component: null\n  }, toastsMarkup)));\n});\nconst toastClasses = {\n  enter: classNames(styles.ToastWrapper, styles['ToastWrapper-enter']),\n  enterDone: classNames(styles.ToastWrapper, styles['ToastWrapper-enter-done']),\n  exit: classNames(styles.ToastWrapper, styles['ToastWrapper-exit'])\n};\n\nexport { ToastManager };\n"]},"metadata":{},"sourceType":"module"}