{"ast":null,"code":"import { isServer } from '../target.js';\nconst SCROLL_LOCKING_ATTRIBUTE = 'data-lock-scrolling';\nconst SCROLL_LOCKING_WRAPPER_ATTRIBUTE = 'data-lock-scrolling-wrapper';\nlet scrollPosition = 0;\n\nclass ScrollLockManager {\n  constructor() {\n    this.scrollLocks = 0;\n    this.locked = false;\n  }\n\n  registerScrollLock() {\n    this.scrollLocks += 1;\n    this.handleScrollLocking();\n  }\n\n  unregisterScrollLock() {\n    this.scrollLocks -= 1;\n    this.handleScrollLocking();\n  }\n\n  handleScrollLocking() {\n    if (isServer) return;\n    const {\n      scrollLocks\n    } = this;\n    const {\n      body\n    } = document;\n    const wrapper = body.firstElementChild;\n\n    if (scrollLocks === 0) {\n      body.removeAttribute(SCROLL_LOCKING_ATTRIBUTE);\n\n      if (wrapper) {\n        wrapper.removeAttribute(SCROLL_LOCKING_WRAPPER_ATTRIBUTE);\n      }\n\n      window.scroll(0, scrollPosition);\n      this.locked = false;\n    } else if (scrollLocks > 0 && !this.locked) {\n      scrollPosition = window.pageYOffset;\n      body.setAttribute(SCROLL_LOCKING_ATTRIBUTE, '');\n\n      if (wrapper) {\n        wrapper.setAttribute(SCROLL_LOCKING_WRAPPER_ATTRIBUTE, '');\n        wrapper.scrollTop = scrollPosition;\n      }\n\n      this.locked = true;\n    }\n  }\n\n  resetScrollPosition() {\n    scrollPosition = 0;\n  }\n\n}\n\nexport { SCROLL_LOCKING_ATTRIBUTE, ScrollLockManager };","map":{"version":3,"sources":["/Users/yewonkwak/Documents/GitHub/spacestagram/node_modules/@shopify/polaris/dist/esm/utilities/scroll-lock-manager/scroll-lock-manager.js"],"names":["isServer","SCROLL_LOCKING_ATTRIBUTE","SCROLL_LOCKING_WRAPPER_ATTRIBUTE","scrollPosition","ScrollLockManager","constructor","scrollLocks","locked","registerScrollLock","handleScrollLocking","unregisterScrollLock","body","document","wrapper","firstElementChild","removeAttribute","window","scroll","pageYOffset","setAttribute","scrollTop","resetScrollPosition"],"mappings":"AAAA,SAASA,QAAT,QAAyB,cAAzB;AAEA,MAAMC,wBAAwB,GAAG,qBAAjC;AACA,MAAMC,gCAAgC,GAAG,6BAAzC;AACA,IAAIC,cAAc,GAAG,CAArB;;AACA,MAAMC,iBAAN,CAAwB;AACtBC,EAAAA,WAAW,GAAG;AACZ,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,MAAL,GAAc,KAAd;AACD;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,SAAKF,WAAL,IAAoB,CAApB;AACA,SAAKG,mBAAL;AACD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB,SAAKJ,WAAL,IAAoB,CAApB;AACA,SAAKG,mBAAL;AACD;;AAEDA,EAAAA,mBAAmB,GAAG;AACpB,QAAIT,QAAJ,EAAc;AACd,UAAM;AACJM,MAAAA;AADI,QAEF,IAFJ;AAGA,UAAM;AACJK,MAAAA;AADI,QAEFC,QAFJ;AAGA,UAAMC,OAAO,GAAGF,IAAI,CAACG,iBAArB;;AAEA,QAAIR,WAAW,KAAK,CAApB,EAAuB;AACrBK,MAAAA,IAAI,CAACI,eAAL,CAAqBd,wBAArB;;AAEA,UAAIY,OAAJ,EAAa;AACXA,QAAAA,OAAO,CAACE,eAAR,CAAwBb,gCAAxB;AACD;;AAEDc,MAAAA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiBd,cAAjB;AACA,WAAKI,MAAL,GAAc,KAAd;AACD,KATD,MASO,IAAID,WAAW,GAAG,CAAd,IAAmB,CAAC,KAAKC,MAA7B,EAAqC;AAC1CJ,MAAAA,cAAc,GAAGa,MAAM,CAACE,WAAxB;AACAP,MAAAA,IAAI,CAACQ,YAAL,CAAkBlB,wBAAlB,EAA4C,EAA5C;;AAEA,UAAIY,OAAJ,EAAa;AACXA,QAAAA,OAAO,CAACM,YAAR,CAAqBjB,gCAArB,EAAuD,EAAvD;AACAW,QAAAA,OAAO,CAACO,SAAR,GAAoBjB,cAApB;AACD;;AAED,WAAKI,MAAL,GAAc,IAAd;AACD;AACF;;AAEDc,EAAAA,mBAAmB,GAAG;AACpBlB,IAAAA,cAAc,GAAG,CAAjB;AACD;;AAlDqB;;AAsDxB,SAASF,wBAAT,EAAmCG,iBAAnC","sourcesContent":["import { isServer } from '../target.js';\n\nconst SCROLL_LOCKING_ATTRIBUTE = 'data-lock-scrolling';\nconst SCROLL_LOCKING_WRAPPER_ATTRIBUTE = 'data-lock-scrolling-wrapper';\nlet scrollPosition = 0;\nclass ScrollLockManager {\n  constructor() {\n    this.scrollLocks = 0;\n    this.locked = false;\n  }\n\n  registerScrollLock() {\n    this.scrollLocks += 1;\n    this.handleScrollLocking();\n  }\n\n  unregisterScrollLock() {\n    this.scrollLocks -= 1;\n    this.handleScrollLocking();\n  }\n\n  handleScrollLocking() {\n    if (isServer) return;\n    const {\n      scrollLocks\n    } = this;\n    const {\n      body\n    } = document;\n    const wrapper = body.firstElementChild;\n\n    if (scrollLocks === 0) {\n      body.removeAttribute(SCROLL_LOCKING_ATTRIBUTE);\n\n      if (wrapper) {\n        wrapper.removeAttribute(SCROLL_LOCKING_WRAPPER_ATTRIBUTE);\n      }\n\n      window.scroll(0, scrollPosition);\n      this.locked = false;\n    } else if (scrollLocks > 0 && !this.locked) {\n      scrollPosition = window.pageYOffset;\n      body.setAttribute(SCROLL_LOCKING_ATTRIBUTE, '');\n\n      if (wrapper) {\n        wrapper.setAttribute(SCROLL_LOCKING_WRAPPER_ATTRIBUTE, '');\n        wrapper.scrollTop = scrollPosition;\n      }\n\n      this.locked = true;\n    }\n  }\n\n  resetScrollPosition() {\n    scrollPosition = 0;\n  }\n\n}\n\nexport { SCROLL_LOCKING_ATTRIBUTE, ScrollLockManager };\n"]},"metadata":{},"sourceType":"module"}