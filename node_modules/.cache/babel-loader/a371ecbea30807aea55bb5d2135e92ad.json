{"ast":null,"code":"import React$1, { PureComponent, createRef } from 'react';\nimport { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { EventListener as EventListener$1 } from '../EventListener/EventListener.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { durationSlow } from '@shopify/polaris-tokens';\nimport { layer, dataPolarisTopBar } from '../shared.js';\nimport { classNames } from '../../utilities/css.js';\nimport { MobileCancelMajor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { Backdrop as Backdrop$1 } from '../Backdrop/Backdrop.js';\nimport { CSSTransition } from 'react-transition-group';\nimport { FrameContext } from '../../utilities/frame/context.js';\nimport { TrapFocus as TrapFocus$1 } from '../TrapFocus/TrapFocus.js';\nimport { setRootProperty as setRootProperty$1 } from '../../utilities/set-root-property.js';\nimport { ToastManager as ToastManager$1 } from './components/ToastManager/ToastManager.js';\nimport { Loading as Loading$1 } from './components/Loading/Loading.js';\nimport { ContextualSaveBar as ContextualSaveBar$1 } from './components/ContextualSaveBar/ContextualSaveBar.js';\nimport { CSSAnimation as CSSAnimation$1 } from './components/CSSAnimation/CSSAnimation.js';\nimport styles from './Frame.scss.js';\nconst GLOBAL_RIBBON_CUSTOM_PROPERTY = '--global-ribbon-height';\nconst APP_FRAME_MAIN = 'AppFrameMain';\nconst APP_FRAME_NAV = 'AppFrameNav';\nconst APP_FRAME_TOP_BAR = 'AppFrameTopBar';\nconst APP_FRAME_LOADING_BAR = 'AppFrameLoadingBar';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: MobileCancelMajor\n});\n\nvar _ref2 = /*#__PURE__*/React$1.createElement(Loading$1, null);\n\nclass FrameInner extends PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      skipFocused: false,\n      globalRibbonHeight: 0,\n      loadingStack: 0,\n      toastMessages: [],\n      showContextualSaveBar: false\n    };\n    this.contextualSaveBar = null;\n    this.globalRibbonContainer = null;\n    this.navigationNode = /*#__PURE__*/createRef();\n\n    this.setGlobalRibbonHeight = () => {\n      const {\n        globalRibbonContainer\n      } = this;\n\n      if (globalRibbonContainer) {\n        this.setState({\n          globalRibbonHeight: globalRibbonContainer.offsetHeight\n        }, this.setGlobalRibbonRootProperty);\n      }\n    };\n\n    this.setGlobalRibbonRootProperty = () => {\n      const {\n        globalRibbonHeight\n      } = this.state;\n      setRootProperty$1(GLOBAL_RIBBON_CUSTOM_PROPERTY, `${globalRibbonHeight}px`, null);\n    };\n\n    this.showToast = toast => {\n      this.setState(_ref3 => {\n        let {\n          toastMessages\n        } = _ref3;\n        const hasToastById = toastMessages.find(_ref4 => {\n          let {\n            id\n          } = _ref4;\n          return id === toast.id;\n        }) != null;\n        return {\n          toastMessages: hasToastById ? toastMessages : [...toastMessages, toast]\n        };\n      });\n    };\n\n    this.hideToast = _ref5 => {\n      let {\n        id\n      } = _ref5;\n      this.setState(_ref6 => {\n        let {\n          toastMessages\n        } = _ref6;\n        return {\n          toastMessages: toastMessages.filter(_ref7 => {\n            let {\n              id: toastId\n            } = _ref7;\n            return id !== toastId;\n          })\n        };\n      });\n    };\n\n    this.setContextualSaveBar = props => {\n      const {\n        showContextualSaveBar\n      } = this.state;\n      this.contextualSaveBar = _objectSpread2({}, props);\n\n      if (showContextualSaveBar === true) {\n        this.forceUpdate();\n      } else {\n        this.setState({\n          showContextualSaveBar: true\n        });\n      }\n    };\n\n    this.removeContextualSaveBar = () => {\n      this.contextualSaveBar = null;\n      this.setState({\n        showContextualSaveBar: false\n      });\n    };\n\n    this.startLoading = () => {\n      this.setState(_ref8 => {\n        let {\n          loadingStack\n        } = _ref8;\n        return {\n          loadingStack: loadingStack + 1\n        };\n      });\n    };\n\n    this.stopLoading = () => {\n      this.setState(_ref9 => {\n        let {\n          loadingStack\n        } = _ref9;\n        return {\n          loadingStack: Math.max(0, loadingStack - 1)\n        };\n      });\n    };\n\n    this.handleResize = () => {\n      if (this.props.globalRibbon) {\n        this.setGlobalRibbonHeight();\n      }\n    };\n\n    this.handleFocus = () => {\n      this.setState({\n        skipFocused: true\n      });\n    };\n\n    this.handleBlur = () => {\n      this.setState({\n        skipFocused: false\n      });\n    };\n\n    this.handleClick = event => {\n      const {\n        skipToContentTarget\n      } = this.props;\n\n      if (skipToContentTarget && skipToContentTarget.current) {\n        skipToContentTarget.current.focus();\n        event == null ? void 0 : event.preventDefault();\n      }\n    };\n\n    this.handleNavigationDismiss = () => {\n      const {\n        onNavigationDismiss\n      } = this.props;\n\n      if (onNavigationDismiss != null) {\n        onNavigationDismiss();\n      }\n    };\n\n    this.setGlobalRibbonContainer = node => {\n      this.globalRibbonContainer = node;\n    };\n\n    this.handleNavKeydown = event => {\n      const {\n        key\n      } = event;\n      const {\n        mediaQuery: {\n          isNavigationCollapsed\n        },\n        showMobileNavigation\n      } = this.props;\n      const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n\n      if (mobileNavShowing && key === 'Escape') {\n        this.handleNavigationDismiss();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.handleResize();\n\n    if (this.props.globalRibbon) {\n      return;\n    }\n\n    this.setGlobalRibbonRootProperty();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.globalRibbon !== prevProps.globalRibbon) {\n      this.setGlobalRibbonHeight();\n    }\n  }\n\n  render() {\n    const {\n      skipFocused,\n      loadingStack,\n      toastMessages,\n      showContextualSaveBar\n    } = this.state;\n    const {\n      children,\n      navigation,\n      topBar,\n      globalRibbon,\n      showMobileNavigation = false,\n      skipToContentTarget,\n      i18n,\n      mediaQuery: {\n        isNavigationCollapsed\n      }\n    } = this.props;\n    const navClassName = classNames(styles.Navigation, showMobileNavigation && styles['Navigation-visible']);\n    const mobileNavHidden = isNavigationCollapsed && !showMobileNavigation;\n    const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n    const tabIndex = mobileNavShowing ? 0 : -1;\n\n    const mobileNavAttributes = _objectSpread2({}, mobileNavShowing && {\n      'aria-modal': true,\n      role: 'dialog'\n    });\n\n    const navigationMarkup = navigation ? /*#__PURE__*/React$1.createElement(TrapFocus$1, {\n      trapping: mobileNavShowing\n    }, /*#__PURE__*/React$1.createElement(CSSTransition, {\n      nodeRef: this.navigationNode,\n      appear: isNavigationCollapsed,\n      exit: isNavigationCollapsed,\n      in: showMobileNavigation,\n      timeout: durationSlow,\n      classNames: navTransitionClasses\n    }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({}, mobileNavAttributes, {\n      \"aria-label\": i18n.translate('Polaris.Frame.navigationLabel'),\n      ref: this.navigationNode,\n      className: navClassName,\n      onKeyDown: this.handleNavKeydown,\n      id: APP_FRAME_NAV,\n      key: \"NavContent\",\n      hidden: mobileNavHidden\n    }), navigation, /*#__PURE__*/React$1.createElement(\"button\", {\n      type: \"button\",\n      className: styles.NavigationDismiss,\n      onClick: this.handleNavigationDismiss,\n      \"aria-hidden\": mobileNavHidden || !isNavigationCollapsed && !showMobileNavigation,\n      \"aria-label\": i18n.translate('Polaris.Frame.Navigation.closeMobileNavigationLabel'),\n      tabIndex: tabIndex\n    }, _ref)))) : null;\n    const loadingMarkup = loadingStack > 0 ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.LoadingBar,\n      id: APP_FRAME_LOADING_BAR\n    }, _ref2) : null;\n    const contextualSaveBarMarkup = /*#__PURE__*/React$1.createElement(CSSAnimation$1, {\n      in: showContextualSaveBar,\n      className: styles.ContextualSaveBar,\n      type: \"fade\"\n    }, /*#__PURE__*/React$1.createElement(ContextualSaveBar$1, this.contextualSaveBar));\n    const topBarMarkup = topBar ? /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n      className: styles.TopBar\n    }, layer.props, dataPolarisTopBar.props, {\n      id: APP_FRAME_TOP_BAR\n    }), topBar) : null;\n    const globalRibbonMarkup = globalRibbon ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.GlobalRibbonContainer,\n      ref: this.setGlobalRibbonContainer\n    }, globalRibbon) : null;\n    const skipClassName = classNames(styles.Skip, skipFocused && styles.focused);\n    const skipTarget = (skipToContentTarget == null ? void 0 : skipToContentTarget.current) ? skipToContentTarget.current.id : APP_FRAME_MAIN;\n    const skipMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: skipClassName\n    }, /*#__PURE__*/React$1.createElement(\"a\", {\n      href: `#${skipTarget}`,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick\n    }, i18n.translate('Polaris.Frame.skipToContent')));\n    const navigationAttributes = navigation ? {\n      'data-has-navigation': true\n    } : {};\n    const frameClassName = classNames(styles.Frame, navigation && styles.hasNav, topBar && styles.hasTopBar);\n    const navigationOverlayMarkup = showMobileNavigation && isNavigationCollapsed ? /*#__PURE__*/React$1.createElement(Backdrop$1, {\n      belowNavigation: true,\n      onClick: this.handleNavigationDismiss,\n      onTouchStart: this.handleNavigationDismiss\n    }) : null;\n    const context = {\n      showToast: this.showToast,\n      hideToast: this.hideToast,\n      startLoading: this.startLoading,\n      stopLoading: this.stopLoading,\n      setContextualSaveBar: this.setContextualSaveBar,\n      removeContextualSaveBar: this.removeContextualSaveBar\n    };\n    return /*#__PURE__*/React$1.createElement(FrameContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n      className: frameClassName\n    }, layer.props, navigationAttributes), skipMarkup, topBarMarkup, navigationMarkup, contextualSaveBarMarkup, loadingMarkup, navigationOverlayMarkup, /*#__PURE__*/React$1.createElement(\"main\", {\n      className: styles.Main,\n      id: APP_FRAME_MAIN,\n      \"data-has-global-ribbon\": Boolean(globalRibbon)\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Content\n    }, children)), /*#__PURE__*/React$1.createElement(ToastManager$1, {\n      toastMessages: toastMessages\n    }), globalRibbonMarkup, /*#__PURE__*/React$1.createElement(EventListener$1, {\n      event: \"resize\",\n      handler: this.handleResize\n    })));\n  }\n\n}\n\nconst navTransitionClasses = {\n  enter: classNames(styles['Navigation-enter']),\n  enterActive: classNames(styles['Navigation-enterActive']),\n  enterDone: classNames(styles['Navigation-enterActive']),\n  exit: classNames(styles['Navigation-exit']),\n  exitActive: classNames(styles['Navigation-exitActive'])\n};\n\nfunction Frame(props) {\n  const i18n = useI18n();\n  const mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React$1.createElement(FrameInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Frame };","map":{"version":3,"sources":["/Users/yewonkwak/Documents/GitHub/spacestagram/node_modules/@shopify/polaris/dist/esm/components/Frame/Frame.js"],"names":["React$1","PureComponent","createRef","objectSpread2","_objectSpread2","useMediaQuery","EventListener","EventListener$1","useI18n","durationSlow","layer","dataPolarisTopBar","classNames","MobileCancelMajor","Icon","Icon$1","Backdrop","Backdrop$1","CSSTransition","FrameContext","TrapFocus","TrapFocus$1","setRootProperty","setRootProperty$1","ToastManager","ToastManager$1","Loading","Loading$1","ContextualSaveBar","ContextualSaveBar$1","CSSAnimation","CSSAnimation$1","styles","GLOBAL_RIBBON_CUSTOM_PROPERTY","APP_FRAME_MAIN","APP_FRAME_NAV","APP_FRAME_TOP_BAR","APP_FRAME_LOADING_BAR","_ref","createElement","source","_ref2","FrameInner","constructor","state","skipFocused","globalRibbonHeight","loadingStack","toastMessages","showContextualSaveBar","contextualSaveBar","globalRibbonContainer","navigationNode","setGlobalRibbonHeight","setState","offsetHeight","setGlobalRibbonRootProperty","showToast","toast","hasToastById","find","id","hideToast","filter","toastId","setContextualSaveBar","props","forceUpdate","removeContextualSaveBar","startLoading","stopLoading","Math","max","handleResize","globalRibbon","handleFocus","handleBlur","handleClick","event","skipToContentTarget","current","focus","preventDefault","handleNavigationDismiss","onNavigationDismiss","setGlobalRibbonContainer","node","handleNavKeydown","key","mediaQuery","isNavigationCollapsed","showMobileNavigation","mobileNavShowing","componentDidMount","componentDidUpdate","prevProps","render","children","navigation","topBar","i18n","navClassName","Navigation","mobileNavHidden","tabIndex","mobileNavAttributes","role","navigationMarkup","trapping","nodeRef","appear","exit","in","timeout","navTransitionClasses","Object","assign","translate","ref","className","onKeyDown","hidden","type","NavigationDismiss","onClick","loadingMarkup","LoadingBar","contextualSaveBarMarkup","topBarMarkup","TopBar","globalRibbonMarkup","GlobalRibbonContainer","skipClassName","Skip","focused","skipTarget","skipMarkup","href","onFocus","onBlur","navigationAttributes","frameClassName","Frame","hasNav","hasTopBar","navigationOverlayMarkup","belowNavigation","onTouchStart","context","Provider","value","Main","Boolean","Content","handler","enter","enterActive","enterDone","exitActive"],"mappings":"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","sourcesContent":["import React$1, { PureComponent, createRef } from 'react';\nimport { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { EventListener as EventListener$1 } from '../EventListener/EventListener.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { durationSlow } from '@shopify/polaris-tokens';\nimport { layer, dataPolarisTopBar } from '../shared.js';\nimport { classNames } from '../../utilities/css.js';\nimport { MobileCancelMajor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { Backdrop as Backdrop$1 } from '../Backdrop/Backdrop.js';\nimport { CSSTransition } from 'react-transition-group';\nimport { FrameContext } from '../../utilities/frame/context.js';\nimport { TrapFocus as TrapFocus$1 } from '../TrapFocus/TrapFocus.js';\nimport { setRootProperty as setRootProperty$1 } from '../../utilities/set-root-property.js';\nimport { ToastManager as ToastManager$1 } from './components/ToastManager/ToastManager.js';\nimport { Loading as Loading$1 } from './components/Loading/Loading.js';\nimport { ContextualSaveBar as ContextualSaveBar$1 } from './components/ContextualSaveBar/ContextualSaveBar.js';\nimport { CSSAnimation as CSSAnimation$1 } from './components/CSSAnimation/CSSAnimation.js';\nimport styles from './Frame.scss.js';\n\nconst GLOBAL_RIBBON_CUSTOM_PROPERTY = '--global-ribbon-height';\nconst APP_FRAME_MAIN = 'AppFrameMain';\nconst APP_FRAME_NAV = 'AppFrameNav';\nconst APP_FRAME_TOP_BAR = 'AppFrameTopBar';\nconst APP_FRAME_LOADING_BAR = 'AppFrameLoadingBar';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: MobileCancelMajor\n});\n\nvar _ref2 = /*#__PURE__*/React$1.createElement(Loading$1, null);\n\nclass FrameInner extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      skipFocused: false,\n      globalRibbonHeight: 0,\n      loadingStack: 0,\n      toastMessages: [],\n      showContextualSaveBar: false\n    };\n    this.contextualSaveBar = null;\n    this.globalRibbonContainer = null;\n    this.navigationNode = /*#__PURE__*/createRef();\n\n    this.setGlobalRibbonHeight = () => {\n      const {\n        globalRibbonContainer\n      } = this;\n\n      if (globalRibbonContainer) {\n        this.setState({\n          globalRibbonHeight: globalRibbonContainer.offsetHeight\n        }, this.setGlobalRibbonRootProperty);\n      }\n    };\n\n    this.setGlobalRibbonRootProperty = () => {\n      const {\n        globalRibbonHeight\n      } = this.state;\n      setRootProperty$1(GLOBAL_RIBBON_CUSTOM_PROPERTY, `${globalRibbonHeight}px`, null);\n    };\n\n    this.showToast = toast => {\n      this.setState(({\n        toastMessages\n      }) => {\n        const hasToastById = toastMessages.find(({\n          id\n        }) => id === toast.id) != null;\n        return {\n          toastMessages: hasToastById ? toastMessages : [...toastMessages, toast]\n        };\n      });\n    };\n\n    this.hideToast = ({\n      id\n    }) => {\n      this.setState(({\n        toastMessages\n      }) => {\n        return {\n          toastMessages: toastMessages.filter(({\n            id: toastId\n          }) => id !== toastId)\n        };\n      });\n    };\n\n    this.setContextualSaveBar = props => {\n      const {\n        showContextualSaveBar\n      } = this.state;\n      this.contextualSaveBar = _objectSpread2({}, props);\n\n      if (showContextualSaveBar === true) {\n        this.forceUpdate();\n      } else {\n        this.setState({\n          showContextualSaveBar: true\n        });\n      }\n    };\n\n    this.removeContextualSaveBar = () => {\n      this.contextualSaveBar = null;\n      this.setState({\n        showContextualSaveBar: false\n      });\n    };\n\n    this.startLoading = () => {\n      this.setState(({\n        loadingStack\n      }) => ({\n        loadingStack: loadingStack + 1\n      }));\n    };\n\n    this.stopLoading = () => {\n      this.setState(({\n        loadingStack\n      }) => ({\n        loadingStack: Math.max(0, loadingStack - 1)\n      }));\n    };\n\n    this.handleResize = () => {\n      if (this.props.globalRibbon) {\n        this.setGlobalRibbonHeight();\n      }\n    };\n\n    this.handleFocus = () => {\n      this.setState({\n        skipFocused: true\n      });\n    };\n\n    this.handleBlur = () => {\n      this.setState({\n        skipFocused: false\n      });\n    };\n\n    this.handleClick = event => {\n      const {\n        skipToContentTarget\n      } = this.props;\n\n      if (skipToContentTarget && skipToContentTarget.current) {\n        skipToContentTarget.current.focus();\n        event == null ? void 0 : event.preventDefault();\n      }\n    };\n\n    this.handleNavigationDismiss = () => {\n      const {\n        onNavigationDismiss\n      } = this.props;\n\n      if (onNavigationDismiss != null) {\n        onNavigationDismiss();\n      }\n    };\n\n    this.setGlobalRibbonContainer = node => {\n      this.globalRibbonContainer = node;\n    };\n\n    this.handleNavKeydown = event => {\n      const {\n        key\n      } = event;\n      const {\n        mediaQuery: {\n          isNavigationCollapsed\n        },\n        showMobileNavigation\n      } = this.props;\n      const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n\n      if (mobileNavShowing && key === 'Escape') {\n        this.handleNavigationDismiss();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.handleResize();\n\n    if (this.props.globalRibbon) {\n      return;\n    }\n\n    this.setGlobalRibbonRootProperty();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.globalRibbon !== prevProps.globalRibbon) {\n      this.setGlobalRibbonHeight();\n    }\n  }\n\n  render() {\n    const {\n      skipFocused,\n      loadingStack,\n      toastMessages,\n      showContextualSaveBar\n    } = this.state;\n    const {\n      children,\n      navigation,\n      topBar,\n      globalRibbon,\n      showMobileNavigation = false,\n      skipToContentTarget,\n      i18n,\n      mediaQuery: {\n        isNavigationCollapsed\n      }\n    } = this.props;\n    const navClassName = classNames(styles.Navigation, showMobileNavigation && styles['Navigation-visible']);\n    const mobileNavHidden = isNavigationCollapsed && !showMobileNavigation;\n    const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n    const tabIndex = mobileNavShowing ? 0 : -1;\n\n    const mobileNavAttributes = _objectSpread2({}, mobileNavShowing && {\n      'aria-modal': true,\n      role: 'dialog'\n    });\n\n    const navigationMarkup = navigation ? /*#__PURE__*/React$1.createElement(TrapFocus$1, {\n      trapping: mobileNavShowing\n    }, /*#__PURE__*/React$1.createElement(CSSTransition, {\n      nodeRef: this.navigationNode,\n      appear: isNavigationCollapsed,\n      exit: isNavigationCollapsed,\n      in: showMobileNavigation,\n      timeout: durationSlow,\n      classNames: navTransitionClasses\n    }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({}, mobileNavAttributes, {\n      \"aria-label\": i18n.translate('Polaris.Frame.navigationLabel'),\n      ref: this.navigationNode,\n      className: navClassName,\n      onKeyDown: this.handleNavKeydown,\n      id: APP_FRAME_NAV,\n      key: \"NavContent\",\n      hidden: mobileNavHidden\n    }), navigation, /*#__PURE__*/React$1.createElement(\"button\", {\n      type: \"button\",\n      className: styles.NavigationDismiss,\n      onClick: this.handleNavigationDismiss,\n      \"aria-hidden\": mobileNavHidden || !isNavigationCollapsed && !showMobileNavigation,\n      \"aria-label\": i18n.translate('Polaris.Frame.Navigation.closeMobileNavigationLabel'),\n      tabIndex: tabIndex\n    }, _ref)))) : null;\n    const loadingMarkup = loadingStack > 0 ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.LoadingBar,\n      id: APP_FRAME_LOADING_BAR\n    }, _ref2) : null;\n    const contextualSaveBarMarkup = /*#__PURE__*/React$1.createElement(CSSAnimation$1, {\n      in: showContextualSaveBar,\n      className: styles.ContextualSaveBar,\n      type: \"fade\"\n    }, /*#__PURE__*/React$1.createElement(ContextualSaveBar$1, this.contextualSaveBar));\n    const topBarMarkup = topBar ? /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n      className: styles.TopBar\n    }, layer.props, dataPolarisTopBar.props, {\n      id: APP_FRAME_TOP_BAR\n    }), topBar) : null;\n    const globalRibbonMarkup = globalRibbon ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.GlobalRibbonContainer,\n      ref: this.setGlobalRibbonContainer\n    }, globalRibbon) : null;\n    const skipClassName = classNames(styles.Skip, skipFocused && styles.focused);\n    const skipTarget = (skipToContentTarget == null ? void 0 : skipToContentTarget.current) ? skipToContentTarget.current.id : APP_FRAME_MAIN;\n    const skipMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: skipClassName\n    }, /*#__PURE__*/React$1.createElement(\"a\", {\n      href: `#${skipTarget}`,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick\n    }, i18n.translate('Polaris.Frame.skipToContent')));\n    const navigationAttributes = navigation ? {\n      'data-has-navigation': true\n    } : {};\n    const frameClassName = classNames(styles.Frame, navigation && styles.hasNav, topBar && styles.hasTopBar);\n    const navigationOverlayMarkup = showMobileNavigation && isNavigationCollapsed ? /*#__PURE__*/React$1.createElement(Backdrop$1, {\n      belowNavigation: true,\n      onClick: this.handleNavigationDismiss,\n      onTouchStart: this.handleNavigationDismiss\n    }) : null;\n    const context = {\n      showToast: this.showToast,\n      hideToast: this.hideToast,\n      startLoading: this.startLoading,\n      stopLoading: this.stopLoading,\n      setContextualSaveBar: this.setContextualSaveBar,\n      removeContextualSaveBar: this.removeContextualSaveBar\n    };\n    return /*#__PURE__*/React$1.createElement(FrameContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n      className: frameClassName\n    }, layer.props, navigationAttributes), skipMarkup, topBarMarkup, navigationMarkup, contextualSaveBarMarkup, loadingMarkup, navigationOverlayMarkup, /*#__PURE__*/React$1.createElement(\"main\", {\n      className: styles.Main,\n      id: APP_FRAME_MAIN,\n      \"data-has-global-ribbon\": Boolean(globalRibbon)\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Content\n    }, children)), /*#__PURE__*/React$1.createElement(ToastManager$1, {\n      toastMessages: toastMessages\n    }), globalRibbonMarkup, /*#__PURE__*/React$1.createElement(EventListener$1, {\n      event: \"resize\",\n      handler: this.handleResize\n    })));\n  }\n\n}\n\nconst navTransitionClasses = {\n  enter: classNames(styles['Navigation-enter']),\n  enterActive: classNames(styles['Navigation-enterActive']),\n  enterDone: classNames(styles['Navigation-enterActive']),\n  exit: classNames(styles['Navigation-exit']),\n  exitActive: classNames(styles['Navigation-exitActive'])\n};\nfunction Frame(props) {\n  const i18n = useI18n();\n  const mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React$1.createElement(FrameInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Frame };\n"]},"metadata":{},"sourceType":"module"}